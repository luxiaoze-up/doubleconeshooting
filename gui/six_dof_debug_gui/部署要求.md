# 六自由度调试GUI - 部署要求

## Windows主机运行条件

### 必需条件

1. **操作系统**
   - Windows 7 或更高版本（推荐 Windows 10/11）
   - 32位或64位系统均可

2. **Python环境（如果使用源码运行）**
   - Python 3.11 或 3.14（32位版本）
   - 必须使用32位Python（因为LTSMC.dll是32位）
   - 安装命令：`winget install Python.Python.3.11 --architecture x86`

3. **依赖库（如果使用源码运行）**
   - PyQt5 >= 5.15.0
   - numpy >= 1.21.0
   - 安装命令：`py -3.11-32 -m pip install PyQt5 numpy`

4. **硬件库文件**
   - `LTSMC.dll`（32位版本）
   - 文件位置：`lib/LTSMC.dll`（相对于项目根目录）

5. **网络连接**
   - 能够访问运动控制器IP地址（默认：192.168.1.13）
   - 能够访问编码器采集器IP地址（默认：192.168.1.199:5000）

### 可选条件

1. **Visual C++ Redistributable**
   - 如果DLL加载失败，可能需要安装VC++运行库
   - 32位：https://aka.ms/vs/17/release/vc_redist.x86.exe
   - 64位：https://aka.ms/vs/17/release/vc_redist.x64.exe

2. **防火墙设置**
   - 确保防火墙允许应用程序访问网络

## 部署方式

### 方式1：打包为可执行程序（推荐）

**优点：**
- 无需安装Python
- 一键运行，使用简单
- 包含所有依赖

**缺点：**
- 文件体积较大（约100-200MB）
- 首次启动可能较慢

**使用方法：**
1. 运行打包脚本：`build_exe.bat`
2. 将生成的 `dist/SixDofDebugGUI.exe` 和 `lib/LTSMC.dll` 复制到目标主机
3. 确保 `LTSMC.dll` 与 `exe` 在同一目录或 `lib/` 子目录中
4. 双击运行

### 方式2：源码部署

**优点：**
- 文件体积小
- 便于调试和修改

**缺点：**
- 需要安装Python和依赖库
- 配置较复杂

**使用方法：**
1. 复制整个项目到目标主机
2. 安装32位Python
3. 安装依赖：`py -3.11-32 -m pip install PyQt5 numpy`
4. 运行：`py -3.11-32 -m gui.six_dof_debug_gui.main`

## 文件清单

### 打包版本（可执行程序）

```
部署目录/
├── SixDofDebugGUI.exe      # 主程序
└── lib/
    └── LTSMC.dll            # 硬件库（必需）
```

### 源码版本

```
部署目录/
├── gui/
│   └── six_dof_debug_gui/
│       ├── main.py
│       ├── main_window.py
│       └── ... (所有Python文件)
├── lib/
│   └── LTSMC.dll           # 硬件库（必需）
└── requirements.txt
```

## 首次运行

1. **配置文件自动生成**
   - 首次运行会自动创建 `config.json`
   - 默认配置：
     - 运动控制器：192.168.1.13
     - 编码器采集器：192.168.1.199:5000

2. **修改配置**
   - 编辑 `config.json` 文件
   - 或通过GUI界面修改

## 常见问题

### Q: 运行exe时提示缺少DLL？
A: 确保 `LTSMC.dll` 文件存在于 `lib/` 目录中，或与exe同目录

### Q: 无法连接到运动控制器？
A: 
1. 检查IP地址是否正确
2. 检查网络连接
3. 检查防火墙设置
4. 确认控制器在线

### Q: 提示缺少Visual C++运行库？
A: 安装VC++ Redistributable（见"可选条件"部分）

### Q: 打包的exe文件太大？
A: 这是正常的，因为包含了Python解释器和所有依赖库。可以使用UPX压缩减小体积。

## 系统要求总结

| 项目 | 要求 |
|------|------|
| 操作系统 | Windows 7+ |
| Python（源码） | 3.11/3.14 (32位) |
| 内存 | 至少 512MB |
| 磁盘空间 | 至少 500MB（打包版本） |
| 网络 | 可访问控制器IP |
| 其他 | LTSMC.dll（32位） |
